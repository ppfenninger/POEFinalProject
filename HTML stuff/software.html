<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Software Subsystem</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body class="single">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<header id="header">
					<nav class="links">
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a href="Process.html">Process</a></li>
								<li><a href="Subsystems.html">Subsystems</a></li>
								<li><a href="https://drive.google.com/drive/folders/0Bxm8b-8jEqsVNDdRanZ5Q19Ca2c?usp=sharing" target="_blank">Gallery</a></li>
								<li><a href="About.html">About the Team</a></li>
							</ul>
						</nav>
						<nav class="main">
							<ul>
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a href="software.html">Software Subsystem</a></h2>
										<!--<p>Project Overview</p>-->
									</div>
									<!--<div class="meta">
										<time class="published" datetime="2015-11-01">November 1, 2015</time>
										<a href="#" class="author"><span class="name">Jane Doe</span><img src="images/avatar.jpg" alt="" /></a>
									</div>-->
								</header>
								<p><a href="https://github.com/ppfenninger/POEFinalProject">Link to our Github</a></p>
								<p>Our software system allows us to interpret the sensor data and use it to determine how to control the motors and addressable LEDs using the <a href="https://learn.adafruit.com/adafruit-neopixel-uberguide/arduino-library-installation">Adafruit Neopixel library</a> and the <a href="https://learn.adafruit.com/adafruit-motor-shield/using-dc-motors" >Adafruit Motorshield library</a>.</p>
								<p>Arduino 1 code (bottom clocks):</p>
									<a href="images/ProgramFlowBotClock.png" class="image featured"><img src="images/ProgramFlowBotClock.png" alt="" /></a>

								<p>Arduino 2 code (top clock):</p>
								<a href="images/ProgramFlowTopClock.png" class="image featured"><img src="images/ProgramFlowTopClock.png" alt="" style="width:700px" /></a>

								<p><b>Challenges:</b></p>
								<p>We didn’t have enough money for a good quadrature encoder, and other solutions like potentiometers (are Gross and) don’t allow for full rotation. A stepper motor wasn’t a viable solution because while the stepper only knows its angular position correctly when not moved by an outside force.</p>
								<a href="images/encoder.png" class="image featured"><img src="images/encoder.png" alt="" style="width:400px;height:400px"/></a>

								<p>Our solution: we made our own cheap rotary encoder out of four IR reflectance sensors and a printed encoder sheet that we made in MS paint. Each 30° section of the encoder differs by one bit from both of the ones next to it (except the 11 and 12 positions), and the reflectance sensors each read a different bit from outside (0001) to inside (1000).</p>
								</p>

								<p>We also had some problems getting the code to figure out which order the IR distance sensors were triggered in. Our solution is a rather inelegant array-based series of if statements. When a sensor is triggered, we make that array component the sum of the other two sensor values plus one. This means that the lowest value in the array represents the sensor that was triggered first, and that when the sum of them is equal to 7 they have all been triggered. Then we use if statements as a switch case to figure out which way the motor should be rotating. Inelegant and inefficient, but effective!</p>
							</article>

					</div>

				<!-- Footer -->
				<section id="footer">
					<p class="copyright">&copy; Modified from Future Imperfect: <a href="http://html5up.net">HTML5 UP</a>. Images: <a href="http://unsplash.com">Unsplash</a>.</p>
				</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
